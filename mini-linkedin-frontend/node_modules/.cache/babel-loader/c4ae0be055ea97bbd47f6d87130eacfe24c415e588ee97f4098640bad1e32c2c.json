{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HARIBABU\\\\OneDrive\\\\Desktop\\\\project\\\\mini-linkedin-frontend\\\\client\\\\src\\\\context\\\\PostContext.js\",\n  _s = $RefreshSig$();\n// src/context/PostContext.js\nimport React, { createContext, useReducer } from 'react';\nimport api from '../api';\n\n// Initial state for the context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  posts: [],\n  post: null,\n  loading: true,\n  error: {}\n};\n\n// Create the context object\nexport const PostContext = /*#__PURE__*/createContext(initialState);\n\n// Reducer function to handle state changes based on actions\nconst postReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case 'GET_POSTS':\n      return {\n        ...state,\n        posts: payload,\n        loading: false\n      };\n    case 'ADD_POST':\n      return {\n        ...state,\n        posts: [payload, ...state.posts],\n        // Add new post to the beginning of the array\n        loading: false\n      };\n    case 'POST_ERROR':\n      return {\n        ...state,\n        error: payload,\n        loading: false\n      };\n    default:\n      return state;\n  }\n};\n\n// Provider component that will wrap parts of our app\nexport const PostProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(postReducer, initialState);\n\n  // Action to get all posts from the backend\n  const getPosts = async () => {\n    try {\n      const res = await api.get('/posts');\n      dispatch({\n        type: 'GET_POSTS',\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: 'POST_ERROR',\n        payload: {\n          msg: err.response.statusText,\n          status: err.response.status\n        }\n      });\n    }\n  };\n\n  // Action to add a new post\n  const addPost = async formData => {\n    try {\n      const res = await api.post('/posts', formData);\n      dispatch({\n        type: 'ADD_POST',\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: 'POST_ERROR',\n        payload: {\n          msg: err.response.statusText,\n          status: err.response.status\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(PostContext.Provider, {\n    value: {\n      posts: state.posts,\n      loading: state.loading,\n      error: state.error,\n      getPosts,\n      addPost\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_s(PostProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = PostProvider;\nvar _c;\n$RefreshReg$(_c, \"PostProvider\");","map":{"version":3,"names":["React","createContext","useReducer","api","jsxDEV","_jsxDEV","initialState","posts","post","loading","error","PostContext","postReducer","state","action","type","payload","PostProvider","children","_s","dispatch","getPosts","res","get","data","err","msg","response","statusText","status","addPost","formData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HARIBABU/OneDrive/Desktop/project/mini-linkedin-frontend/client/src/context/PostContext.js"],"sourcesContent":["// src/context/PostContext.js\r\nimport React, { createContext, useReducer } from 'react';\r\nimport api from '../api';\r\n\r\n// Initial state for the context\r\nconst initialState = {\r\n  posts: [],\r\n  post: null,\r\n  loading: true,\r\n  error: {},\r\n};\r\n\r\n// Create the context object\r\nexport const PostContext = createContext(initialState);\r\n\r\n// Reducer function to handle state changes based on actions\r\nconst postReducer = (state, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case 'GET_POSTS':\r\n      return {\r\n        ...state,\r\n        posts: payload,\r\n        loading: false,\r\n      };\r\n    case 'ADD_POST':\r\n      return {\r\n        ...state,\r\n        posts: [payload, ...state.posts], // Add new post to the beginning of the array\r\n        loading: false,\r\n      };\r\n    case 'POST_ERROR':\r\n      return {\r\n        ...state,\r\n        error: payload,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Provider component that will wrap parts of our app\r\nexport const PostProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(postReducer, initialState);\r\n\r\n  // Action to get all posts from the backend\r\n  const getPosts = async () => {\r\n    try {\r\n      const res = await api.get('/posts');\r\n      dispatch({\r\n        type: 'GET_POSTS',\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'POST_ERROR',\r\n        payload: { msg: err.response.statusText, status: err.response.status },\r\n      });\r\n    }\r\n  };\r\n\r\n  // Action to add a new post\r\n  const addPost = async (formData) => {\r\n    try {\r\n      const res = await api.post('/posts', formData);\r\n      dispatch({\r\n        type: 'ADD_POST',\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'POST_ERROR',\r\n        payload: { msg: err.response.statusText, status: err.response.status },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PostContext.Provider\r\n      value={{\r\n        posts: state.posts,\r\n        loading: state.loading,\r\n        error: state.error,\r\n        getPosts,\r\n        addPost,\r\n      }}\r\n    >\r\n      {children}\r\n    </PostContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}