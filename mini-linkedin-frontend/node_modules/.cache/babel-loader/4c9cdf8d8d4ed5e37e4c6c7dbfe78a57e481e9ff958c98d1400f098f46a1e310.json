{"ast":null,"code":"// src/pages/Profile.js\nimport React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import api from'../api';import Spinner from'../components/layout/Spinner';import PostItem from'../components/posts/PostItem';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{userId}=useParams();const[profile,setProfile]=useState(null);const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const getProfileData=async()=>{try{setLoading(true);const profileRes=await api.get(`/users/${userId}`);const postsRes=await api.get(`/posts/user/${userId}`);setProfile(profileRes.data);setPosts(postsRes.data);setLoading(false);}catch(err){console.error(err);setLoading(false);}};if(userId){getProfileData();}},[userId]);if(loading)return/*#__PURE__*/_jsx(Spinner,{});if(!profile)return/*#__PURE__*/_jsx(\"h2\",{children:\"Profile not found\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post\",style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:profile.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bio:\"}),\" \",profile.bio||'No bio provided.']}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Joined on \",new Date(profile.date).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"h2\",{style:{color:'#0a66c2'},children:[profile.name,\"'s Posts\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"posts\",children:posts.length>0?posts.map(post=>/*#__PURE__*/_jsx(PostItem,{post:post},post._id)):/*#__PURE__*/_jsx(\"h4\",{children:\"This user has not posted anything yet.\"})})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useParams","api","Spinner","PostItem","jsx","_jsx","jsxs","_jsxs","Profile","userId","profile","setProfile","posts","setPosts","loading","setLoading","getProfileData","profileRes","get","postsRes","data","err","console","error","children","className","style","marginBottom","name","email","bio","Date","date","toLocaleDateString","color","length","map","post","_id"],"sources":["C:/Users/HARIBABU/OneDrive/Desktop/project/mini-linkedin-frontend/client/src/pages/Profile.js"],"sourcesContent":["// src/pages/Profile.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport api from '../api';\r\nimport Spinner from '../components/layout/Spinner';\r\nimport PostItem from '../components/posts/PostItem';\r\n\r\nconst Profile = () => {\r\n  const { userId } = useParams();\r\n  const [profile, setProfile] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getProfileData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const profileRes = await api.get(`/users/${userId}`);\r\n        const postsRes = await api.get(`/posts/user/${userId}`);\r\n        \r\n        setProfile(profileRes.data);\r\n        setPosts(postsRes.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (userId) {\r\n        getProfileData();\r\n    }\r\n  }, [userId]);\r\n\r\n  if (loading) return <Spinner />;\r\n\r\n  if (!profile) return <h2>Profile not found</h2>;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"post\" style={{ marginBottom: '2rem' }}>\r\n        <h2>{profile.name}</h2>\r\n        <p><strong>Email:</strong> {profile.email}</p>\r\n        {/* Updated to show the bio */}\r\n        <p><strong>Bio:</strong> {profile.bio || 'No bio provided.'}</p>\r\n        <small>Joined on {new Date(profile.date).toLocaleDateString()}</small>\r\n      </div>\r\n\r\n      <h2 style={{ color: '#0a66c2' }}>{profile.name}'s Posts</h2>\r\n      <div className=\"posts\">\r\n        {posts.length > 0 ? (\r\n          posts.map((post) => <PostItem key={post._id} post={post} />)\r\n        ) : (\r\n          <h4>This user has not posted anything yet.</h4>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}